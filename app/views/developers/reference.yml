- name: Site properties
  keys:
    - name: title
      type: string
      description: Your site’s title, set on the <a href="/sites/default/title"><span class="ui-action">Title</span></a> page of your dashboard. 
      example: <h1>{{title}}</h1>
      output: <h1>My Site</h1>

    - name: avatar
      type: string
      description: The URL to your profile picture, or avatar, uploaded on the <a href="/sites/default/template/default/photo"><span class="ui-action">Photo</span></a> page of your dashboard
      example: <img src="{{{avatar}}}" />
      output: <img src="https://example.com/avatar.jpg" />

    - name: menu
      type: array
      description: "A list of links in your site's navigation. This list includes links you add on the Links page of your dashboard, plus links for pages (entries with menu metadata) when present. Each item in the list has the following properties:"
      example: |
        {{#menu}}
        <a href="{{url}}">{{label}}</a>
        {{/menu}}
      output: |
        <a href="/">Home</a>
        <a href="/about">About</a>
        ...
      properties:
        - name: id
          type: string
          description: Unique identiﬁer for this link
        - name: label
          type: string
          description: Text label for this link
        - name: url
          type: string
          description: URL for this link
        - name: metadata
          type: object
          description: The metadata set for the page which generated this link.
        - name: active
          type: boolean
          description: <code>true</code> if you are currently looking at this link
        - name: first
          type: boolean
          description: <code>true</code> if this link is the first in your menu
        - name: penultimate
          type: boolean
          description: true if this link is the penultimate link in your menu
        - name: last
          type: boolean
          description: true if this link is the last in your menu

    - name: cacheID
      type: number
      description: A Unix timestamp in milliseconds for when your site was last updated.
      example: "{{cacheID}}"
      output: "1707096312000"

    - name: updated
      type: function
      description: Used to display the time your site was last updated, using the property directly or by passing in any of the supported [date tokens](#date-tokens).
      example: |
        Updated on {{updated}}.

        Updated on {{#updated}}MMMM DDDo, YYYY{{/updated}}.
      output: |
        Updated on 2024-02-01
        Updated on February 1st, 2024

    - name: timezone
      type: string
      description: Your site’s timezone in the [tz database format](https://en.wikipedia.org/wiki/Tz_database)

    - name: siteURL
      type: string
      description: URL to your site’s homepage

    - name: blogURL
      type: string
      description: Alias for [siteURL](#blog.siteURL)

    - name: feedURL
      type: string
      description: Relative path to your site's RSS feed (prepend [siteURL](#blog.siteURL) for a fully qualified URL).
      example: /feed.rss

    - name: sitemapURL
      type: string
      description: Relative path to your site's sitemap (prepend [siteURL](#blog.siteURL) for a fully qualified URL).
      example: /sitemap.xml

    - name: roundAvatar
      type: boolean
      description: true if you’ve indicated your avatar is round, false if not

- name: Entry properties
  keys:
    - name: Identity
      type: section
      description: Core identifiers and naming fields. These are present for entries unless noted otherwise.

    - name: id
      type: string
      description: Alias for the [path](#entry.path) property, which uniquely identiﬁes the post.

    - name: guid
      type: string
      description: Globally unique alpha-numeric identiﬁer for the post.

    - name: html
      type: string
      description: The full HTML of the blog post.

    - name: path
      type: string
      description: The file’s path, with the blog’s folder as root.

    - name: title
      type: string
      description: The blog post’s title.

    - name: URLs
      type: section
      description: URL fields for resolved paths and canonical links.

    - name: url
      type: string
      description: The resolved, unique URL to the post.

    - name: tags
      type: array
      description: "List of tags for the entry. Each item in the list has the following properties:"
      example: |
        {{#entry.tags}}
        <a href="{{url}}">{{tag}}</a>
        {{/entry.tags}}
      properties:
        - name: tag
          type: string
          description: Text for the tag

        - name: name
          type: string
          description: Alias for tag

        - name: slug
          type: string
          description: URL-friendly version of the tag

        - name: url
          type: string
          description: Relative URL to this tag page.

        - name: first
          type: boolean
          description: true if this tag is the first in this entry's list of tags

        - name: last
          type: boolean
          description: true if this link is the last in this entry's list of tags

    - name: absoluteURL
      type: string
      description: The fully qualified URL (scheme + host + path) to the post.
      example: https://example.com/2024/hello-world

    - name: Dates
      type: section
      description: Publication and file lifecycle timestamps.

    - name: date
      type: string
      description: The blog post’s publication date, as a human-readable string. This is only present when `hide_dates` is false and the entry is not a menu item or page. Use [formatDate](#entry.formatDate) for custom formatting regardless of display settings.

    - name: dateStamp
      type: number
      description: The blog post's publication date, as a Unix timestamp in milliseconds.
      example: "1707096312000"

    - name: backlinks
      type: array
      description: "A list of all the entries on your site which link to this entry. Each item in the list is an [entry](#entry)."
      example: |
        {{#backlinks}}
        <a href="{{url}}">{{title}}</a>
        {{/backlinks}}

    - name: formatDate
      type: function
      description: Used to format the entry's publication date as you like, using any of the supported [date tokens](#date-tokens).
      example: |
        {{#formatDate}}
        MMMM DDDo, YYYY 
        {{/formatDate}}

    - name: formatUpdated
      type: function
      description: Used to format the entry's updated date as you like, using any of the supported [date tokens](#date-tokens).
      example: |
        {{#formatUpdated}}
        MMMM DDDo, YYYY 
        {{/formatUpdated}}

    - name: formatCreated
      type: function
      description: Used to format the entry's created date as you like, using any of the supported [date tokens](#date-tokens).
      example: |
        {{#formatCreated}}
        MMMM DDDo, YYYY 
        {{/formatCreated}}

    - name: thumbnail
      type: object
      description: "Object containing the thumbnails for the entry, if they exist. Blot will not increase the size of smaller images. When a thumbnail is generated, each size (small, medium, large, square) is present; if the source image is smaller than a size limit, the thumbnail is still generated at the source image’s dimensions (no upscaling)."
      properties:
        - name: small
          type: object
          description: Thumbnail with width and height under 160px.
        - name: small.url
          type: string
          description: Relative URL to the generated small thumbnail image.
        - name: small.width
          type: number
          description: Width of the generated small thumbnail in pixels.
        - name: small.height
          type: number
          description: Height of the generated small thumbnail in pixels.

        - name: medium
          type: object
          description: Default thumbnail variant with width under 640px.
        - name: medium.url
          type: string
          description: Relative URL to the generated medium thumbnail image.
        - name: medium.width
          type: number
          description: Width of the generated medium thumbnail in pixels.
        - name: medium.height
          type: number
          description: Height of the generated medium thumbnail in pixels.

        - name: large
          type: object
          description: Thumbnail with width and height under 1200px (or smaller if the source image is smaller).
        - name: large.url
          type: string
          description: Relative URL to the generated large thumbnail image.
        - name: large.width
          type: number
          description: Width of the generated large thumbnail in pixels.
        - name: large.height
          type: number
          description: Height of the generated large thumbnail in pixels.

        - name: square
          type: object
          description: Square thumbnail variant, typically 160px by 160px.
        - name: square.url
          type: string
          description: Relative URL to the generated square thumbnail image.
        - name: square.width
          type: number
          description: Width of the generated square thumbnail in pixels.
        - name: square.height
          type: number
          description: Height of the generated square thumbnail in pixels.
      example: |
        {{#thumbnail.medium}}
          <img src="{{url}}
               width="{{width}}" 
               height="{{height}}"/>
        {{/thumbnail.medium}}

    - name: metadata
      type: object
      description: object containing the metadata for the entry, if they exist.

    - name: exif
      type: object
      description: |
        Sanitized EXIF metadata populated for image-based entries when EXIF preservation is enabled. Configure this in your dashboard at **Settings → Images → Image metadata (EXIF)**. Default mode for new sites is `basic`. Use `off` to disable EXIF, `basic` for a privacy-preserving subset, or `full` to expose all parsed keys (including GPS fields).
      example: |
        {{#entry.exif}}
        {{Make}} {{Model}} — {{ExposureTime}}s at ƒ/{{FNumber}}, ISO {{ISO}}
        {{/entry.exif}}

        Basic mode keys:
          - Make
          - Model
          - ExposureTime
          - FNumber
          - ISO
          - FocalLength
          - LensMake
          - LensModel
          - ImageDescription

        Full mode also includes:
          - GPSLatitude
          - GPSLongitude
          - GPSAltitude
          - GPSPosition

    - name: name
      type: string
      description: The file’s name, preserving the case where possible.

    - name: size
      type: number
      description: The file’s size in bytes.

    - name: created
      type: number
      description: The timestamp when the entry was added to Blot, as a Unix timestamp in milliseconds. For the publication date (often derived from metadata or the file path), see [entry.dateStamp](#entry.dateStamp).
      example: "1707096312000"

    - name: updated
      type: number
      description: The file's last-modified date, as a Unix timestamp in milliseconds.
      example: "1707096312000"

    - name: summary
      type: string
      description: Plain text extracted from rendered content, excluding headings (`h1`-`h6`), fenced/code blocks (`pre`, `code`), and non-content structural elements. Whitespace is normalized, then the result is truncated to approximately 150 characters as a heuristic summary target.

    - name: titleTag
      type: string
      description: "If the post’s title was generated from a heading in the blog post, this property contains that heading’s HTML. For example:  `<h1>Your post's <em>nice</em> title</h1>`"

    - name: body
      type: string
      description: The HTML of the blog post, excluding the [titleTag](#entry.titleTag). This property is useful if you want to manipulate the HTML of the titles of your blog posts.

    - name: teaser
      type: string
      description: The HTML of the title and the ﬁrst few items in the entry. You can specify the end of the teaser by inserting the special tag {{more}} into your blog post's ﬁle. Everything before more will be included in the teaser.

    - name: teaserBody
      type: string
      description: The HTML of the ﬁrst few items in the entry, excluding the title. Equivalent to teaser without the titleTag.

    - name: more
      type: boolean
      description: A boolean value indicating if the post’s teaser property is different to its html property. This is useful for determining whether or not to show 'read more' links.

    - name: slug
      type: string
      description: A slug derived from the title or path, which may be used to build the permalink.

    - name: permalink
      type: string
      description: The requested, format-based permalink candidate before it is resolved to the final URL.

    - name: index
      type: number
      description: 1-based publication-order index among published entries in chronological order (oldest published entry is `1`; newest has the largest index). Draft and deleted entries are excluded.

    - name: menu
      type: boolean
      description: “true” if the entry is a page on the menu, “false” if not

    - name: page
      type: boolean
      description: “true” if the entry is a page, “false” if not

    - name: deleted
      type: boolean
      description: “true” if the entry is deleted, “false” if not

    - name: draft
      type: boolean
      description: “true” if the entry is a draft, “false” if not

    - name: scheduled
      type: boolean
      description: “true” if the entry is scheduled for future publication, “false” if not

- name: Lists of entries
  keys:
    - name: recent_entries
      type: array
      description: A list of the 30 most recent entries on your site. Each item in the list is of type [entry](#entry).
      example: |
        {{#recent_entries}}
        <a href="{{url}}">{{title}}</a>
        {{/recent_entries}}
    - name: all_entries
      type: array
      description: A list of all the entries on your site. Each item in the list is of type [entry](#entry).
      example: |
        {{#all_entries}}
        <a href="{{url}}">{{title}}</a>
        {{/all_entries}}
    - name: Pagination
      type: section
      description: Pagination is applied on tagged routes (`/tagged/:slug` and `/tagged/:slug/page/:page`) and on entry list routes that set `page_size`. Templates receive a `pagination` object with `current`, `previous`, `next`, `total`, `pageSize`, and `totalEntries`. Defaults and limits: `page_size` uses a baseline of `5` with valid values `1-100`; tagged routes prefer `tagged_page_size` over `page_size`, and use an effective default of `100` when unset, invalid, or outside `1-500`.
      example: |
        {{#pagination.next}}
        <a href="/tagged/{{slug}}/page/{{pagination.next}}">Older</a>
        {{/pagination.next}}
        {{#pagination.previous}}
        <a href="/tagged/{{slug}}/page/{{pagination.previous}}">Newer</a>
        {{/pagination.previous}}
    - name: archives
      type: array
      description: A list of all the entries on your site, structured by date. Each item in the entries property of each month is of type [entry](#entry).
      properties:
        - name: year
          type: string
          description: The year
        - name: total
          type: number
          description: The number of entries in this year
        - name: s
          type: string
          description: "'s' if the year has more than one entry. Use it for pluralization."
        - name: months
          type: array
          description: A list of month groups in this year.
        - name: months.month
          type: string
          description: Month label for this group.
        - name: months.entries
          type: array
          description: List of [entry](#entry) objects published in this month.

      example: |
        {{#archives}}
          <h2>{{year}} ({{total}} post{{s}})</h2>
          {{#months}}
            <h3>{{month}}</h3>
            {{#entries}}
            <a href="{{url}}">{{title}}</a>
            {{/entries}}
          {{/months}}
        {{/archives}}

    - name: Tagged entry lists
      type: note
      description: |
        The `tagged.html` template is rendered for `/tagged/:tag`. Use `{{#tagged}}...{{/tagged}}` to access the tag page context, including `tag`, `entries`, `total`, `slugs`, and `prettyTags`.

        When filtering entries inside another list, use `entry.tagged.<tag>` (or `tagged.<tag>` from within an entry context), as shown in the tag-filter example template.

        Tag identifiers are case-insensitive and can be either the original tag text (`Apple`) or its slug (`apple`, `multi-word`).
      example: |
        {{#tagged}}
          <h1>{{tag}} ({{total}})</h1>
          {{#entries}}
          <a href="{{url}}">{{title}}</a>
          {{/entries}}
        {{/tagged}}

        {{#all_entries}}
          {{#entry.tagged.Apple}}
          <a href="{{url}}">{{title}}</a>
          {{/entry.tagged.Apple}}
        {{/all_entries}}

        <a href="/tagged/Apple">Apple</a>
        <a href="/tagged/apple">apple</a>
        <a href="/tagged/multi-word">multi-word</a>

- name: Lists of tags
  keys:
    - name: all_tags
      type: array
      description: A list of all the tags used on your site, sorted alphabetically by tag text.
      example: |
        {{#all_tags}}
        <a href="/tagged/{{slug}}">{{tag}}</a><br>
        {{/all_tags}}
      properties:
        - name: tag
          type: string
          description: The tag text
        - name: slug
          type: string
          description: The tag text, in a URL-friendly form
        - name: url
          type: string
          description: Relative URL to this tag page.
        - name: entries
          type: array
          description: A list of every [entry](#entry) with this tag in reverse-chronological order.
        - name: total
          type: number
          description: The number of entries with this tag.

    - name: popular_tags
      type: array
      description: A list of all the tags used on your site, sorted by the number of entries with each tag.
      example: |
        {{#popular_tags}}
        <a href="/tagged/{{slug}}">{{tag}}</a><br>
        {{/popular_tags}}
      properties:
        - name: tag
          type: string
          description: The tag text
        - name: slug
          type: string
          description: The tag text, in a URL-friendly form
        - name: url
          type: string
          description: Relative URL to this tag page.
        - name: entries
          type: array
          description: A list of every [entry](#entry) with this tag in reverse-chronological order.
        - name: total
          type: number
          description: The number of entries with this tag.

- name: Utilities
  keys:
    - name: Utilities usage
      type: note
      description: |
        Utilities can be used either as literal values (for example `{{cdn}}`) or as section/block helpers (`{{#helper}}...{{/helper}}`) that transform the block contents.
      example: |
        <link rel="preconnect" href="{{{cdn}}}" />
        {{#encodeXML}}{{title}}{{/encodeXML}}

    - name: absoluteURLs
      type: function
      description: The same contents, with any relative URLs fully resolved. This is useful to create an RSS feed, since many clients struggle with relative URLs. For example
      example: |
        {{#absoluteURLs}}
        {{{html}}}
        {{/absoluteURLs}}

    - name: encodeJSON
      type: function
      description: The same contents, encoded appropriately for JSON. This is useful to create a JSON feed. You can use it like this
      example: |
        {{#encodeJSON}}
        {{{html}}}
        {{/encodeJSON}}

    - name: encodeURIComponent
      type: function
      description: This is useful for forming urls from entry properties
      example: |
        ?text={{#encodeURIComponent}}
        {{title}}
        {{/encodeURIComponent}}

    - name: encodeXML
      type: function
      description: The same contents, encoded appropriately for XML. This is useful to create a RSS feed. You can use it like this
      example: |
        {{#encodeXML}}
        {{{html}}}
        {{/encodeXML}}

    - name: rgb
      type: function
      description: Extracts the r, g, and b values for a passed color. Returns these values joined by a comma.
      example: |
        color:rgba({{#rgb}}#FF00FF{{/rgb}},0.5);

    - name: cdn
      type: function
      description: |
        Used to generate CDN URLs for template view files, especially useful for JS and CSS. When used literally e.g. `{{cdn}}` it returns the CDN origin URL. When used as a section helper, e.g. `{{#cdn}}/path/to/file{{/cdn}}` the helper returns the URL to the view file on the CDN.
      example: |
        <link rel="preconnect" href="{{{cdn}}}" />
        <link rel="stylesheet" href="{{#cdn}}/style.css{{/cdn}}">

    - name: plugin
      type: object
      description: |
        Provides access to public CSS/JS payloads for specific plugins, so you can load only what you need. The helper respects your blog's plugin settings and returns nothing for missing, disabled, or asset-less plugins.
      properties:
        - name: <pluginKey>.css
          type: string
          description: Public CSS emitted by the plugin when available.
        - name: <pluginKey>.js
          type: string
          description: Public JavaScript emitted by the plugin when available.
        - name: known keys
          type: array
          description: "analytics, autoImage, bluesky, codeHighlighting, commento, disqus, externalLinks, flickr, image, imageCaption, injectTitle, katex, linebreaks, mediaPreload, linkScreenshot, titlecase, twitter, typeset, videoEmbeds, wikilinks, zoom"
      example: |
        <style>{{{plugin.katex.css}}}</style>
